<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>AS399X Firmware: gen2.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">AS399X Firmware
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">gen2.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="as399x__config_8h_source.html">as399x_config.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="as399x_8h_source.html">as399x.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="as399x__com_8h_source.html">as399x_com.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="uart_8h_source.html">uart.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="timer_8h_source.html">timer.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="gen2_8h_source.html">gen2.h</a>&quot;</code><br/>
<code>#include &quot;string.h&quot;</code><br/>
</div>
<p><a href="gen2_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a26abbc825d54d3681eda53a45fe2e82a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen2_8c.html#a26abbc825d54d3681eda53a45fe2e82a">EPCDEBUG</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a26abbc825d54d3681eda53a45fe2e82a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bdd409bf5c2a44c92591110ac0772cb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen2_8c.html#a4bdd409bf5c2a44c92591110ac0772cb">EPC_QUERYREP</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a4bdd409bf5c2a44c92591110ac0772cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d1adc6b61633e5c2c661eb779bb461d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen2_8c.html#a6d1adc6b61633e5c2c661eb779bb461d">EPC_ACK</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a6d1adc6b61633e5c2c661eb779bb461d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3057ade33919e51f4e5868c9f069492"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen2_8c.html#ae3057ade33919e51f4e5868c9f069492">EPC_QUERY</a>&#160;&#160;&#160;0x08</td></tr>
<tr class="separator:ae3057ade33919e51f4e5868c9f069492"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb922689a9bc3cfb67861a0fc4434c45"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen2_8c.html#acb922689a9bc3cfb67861a0fc4434c45">EPC_QUERYADJUST</a>&#160;&#160;&#160;0x09</td></tr>
<tr class="separator:acb922689a9bc3cfb67861a0fc4434c45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8604d3a715ca9366e82b909746b091ea"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen2_8c.html#a8604d3a715ca9366e82b909746b091ea">EPC_SELECT</a>&#160;&#160;&#160;0x0A</td></tr>
<tr class="separator:a8604d3a715ca9366e82b909746b091ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae53174d0b0a5068794a0ad9012f231cb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen2_8c.html#ae53174d0b0a5068794a0ad9012f231cb">EPC_NAK</a>&#160;&#160;&#160;0xC0</td></tr>
<tr class="separator:ae53174d0b0a5068794a0ad9012f231cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac07fbfe8df8be1bb1a08b604ae3698a8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen2_8c.html#ac07fbfe8df8be1bb1a08b604ae3698a8">EPC_REQRN</a>&#160;&#160;&#160;0xC1</td></tr>
<tr class="separator:ac07fbfe8df8be1bb1a08b604ae3698a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6206712405a50c7e4de707be325aa07a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen2_8c.html#a6206712405a50c7e4de707be325aa07a">EPC_READ</a>&#160;&#160;&#160;0xC2</td></tr>
<tr class="separator:a6206712405a50c7e4de707be325aa07a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad699eb0d001dde24b535493a28973b37"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen2_8c.html#ad699eb0d001dde24b535493a28973b37">EPC_WRITE</a>&#160;&#160;&#160;0xC3</td></tr>
<tr class="separator:ad699eb0d001dde24b535493a28973b37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a064e2ae9b4856bd799130bbc8cf0ce34"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen2_8c.html#a064e2ae9b4856bd799130bbc8cf0ce34">EPC_KILL</a>&#160;&#160;&#160;0xC4</td></tr>
<tr class="separator:a064e2ae9b4856bd799130bbc8cf0ce34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8175ef174dd2fb18ef0438d3eb97f4d7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen2_8c.html#a8175ef174dd2fb18ef0438d3eb97f4d7">EPC_LOCK</a>&#160;&#160;&#160;0xC5</td></tr>
<tr class="separator:a8175ef174dd2fb18ef0438d3eb97f4d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5cd9035ebf5a30ad624a135c8836b3e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen2_8c.html#aa5cd9035ebf5a30ad624a135c8836b3e">EPC_ACCESS</a>&#160;&#160;&#160;0xC6</td></tr>
<tr class="separator:aa5cd9035ebf5a30ad624a135c8836b3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2619ee538af35bf04e940a22292fe085"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen2_8c.html#a2619ee538af35bf04e940a22292fe085">EPC_BLOCKWRITE</a>&#160;&#160;&#160;0xC7</td></tr>
<tr class="separator:a2619ee538af35bf04e940a22292fe085"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9bf934fe990d5292fdad309e10cd12d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen2_8c.html#ac9bf934fe990d5292fdad309e10cd12d">EPC_BLOCKERASE</a>&#160;&#160;&#160;0xC8</td></tr>
<tr class="separator:ac9bf934fe990d5292fdad309e10cd12d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3adf4cc7b53a5bcec846776bd7ef7c4e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen2_8c.html#a3adf4cc7b53a5bcec846776bd7ef7c4e">gen2AccessTag</a> (<a class="el" href="as399x__public_8h.html#a24e956eab72b3e331706283669924255">Tag</a> *tag, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *password)</td></tr>
<tr class="separator:a3adf4cc7b53a5bcec846776bd7ef7c4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40658b9ae0315c95c670134af22d9393"><td class="memItemLeft" align="right" valign="top"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen2_8c.html#a40658b9ae0315c95c670134af22d9393">gen2LockTag</a> (<a class="el" href="as399x__public_8h.html#a24e956eab72b3e331706283669924255">Tag</a> *tag, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *mask_action)</td></tr>
<tr class="separator:a40658b9ae0315c95c670134af22d9393"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac69950813dc5a76f5fbedacff2a653ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen2_8c.html#ac69950813dc5a76f5fbedacff2a653ec">gen2KillTag</a> (<a class="el" href="as399x__public_8h.html#a24e956eab72b3e331706283669924255">Tag</a> *tag, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *password, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> rfu)</td></tr>
<tr class="separator:ac69950813dc5a76f5fbedacff2a653ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcd0b2ab779a3f34602494830ff8573e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen2_8c.html#abcd0b2ab779a3f34602494830ff8573e">gen2WriteWordToTag</a> (<a class="el" href="as399x__public_8h.html#a24e956eab72b3e331706283669924255">Tag</a> *tag, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> memBank, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> wordPtr, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *databuf)</td></tr>
<tr class="separator:abcd0b2ab779a3f34602494830ff8573e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb7755e95e2f76ca5afc42a3329917b0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen2_8c.html#afb7755e95e2f76ca5afc42a3329917b0">gen2NXPChangeConfig</a> (<a class="el" href="as399x__public_8h.html#a24e956eab72b3e331706283669924255">Tag</a> *tag, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *databuf)</td></tr>
<tr class="separator:afb7755e95e2f76ca5afc42a3329917b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9895eaaee0f285352647b0ff32c6d340"><td class="memItemLeft" align="right" valign="top"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen2_8c.html#a9895eaaee0f285352647b0ff32c6d340">gen2ReadFromTag</a> (<a class="el" href="as399x__public_8h.html#a24e956eab72b3e331706283669924255">Tag</a> *tag, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> memBank, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> wordPtr, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> wordCount, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *destbuf)</td></tr>
<tr class="separator:a9895eaaee0f285352647b0ff32c6d340"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35af734c0d114c8ef2c99a4f2ace0d85"><td class="memItemLeft" align="right" valign="top"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen2_8c.html#a35af734c0d114c8ef2c99a4f2ace0d85">gen2GenericCommand</a> (<a class="el" href="as399x__public_8h.html#a24e956eab72b3e331706283669924255">Tag</a> *tag, struct gen2GenericCmdData *commandData)</td></tr>
<tr class="separator:a35af734c0d114c8ef2c99a4f2ace0d85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58b107323267558d63ec42ff9f485a21"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen2_8c.html#a58b107323267558d63ec42ff9f485a21">gen2PrintTagInfo</a> (<a class="el" href="as399x__public_8h.html#a24e956eab72b3e331706283669924255">Tag</a> *tag, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> epclen, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> tagNr)</td></tr>
<tr class="separator:a58b107323267558d63ec42ff9f485a21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc4bef39e563061789915a8fefadb080"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen2_8c.html#acc4bef39e563061789915a8fefadb080">gen2SearchForTags</a> (<a class="el" href="as399x__public_8h.html#a24e956eab72b3e331706283669924255">Tag</a> *<a class="el" href="usb__commands_8c.html#ace606c7581d4f55458cb084cd08f108f">tags_</a>, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> maxtags, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *<a class="el" href="usb__commands_8c.html#a5c2b775bf7bbfb38b6ce8188078754cd">mask</a>, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> length, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> q, <a class="el" href="as399x__config_8h.html#a1367fcbd395005ade7b649b129464275">bool</a>(*cbContinueScanning)(void), <a class="el" href="as399x__config_8h.html#a1367fcbd395005ade7b649b129464275">bool</a> useMaskToSelect)</td></tr>
<tr class="separator:acc4bef39e563061789915a8fefadb080"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a638771cacf5e3743581dec6595203e13"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen2_8c.html#a638771cacf5e3743581dec6595203e13">gen2SearchForTagsFast</a> (<a class="el" href="as399x__public_8h.html#a24e956eab72b3e331706283669924255">Tag</a> *<a class="el" href="usb__commands_8c.html#ace606c7581d4f55458cb084cd08f108f">tags_</a>, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> maxtags, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *<a class="el" href="usb__commands_8c.html#a5c2b775bf7bbfb38b6ce8188078754cd">mask</a>, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> length, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> q, <a class="el" href="as399x__config_8h.html#a1367fcbd395005ade7b649b129464275">bool</a>(*cbContinueScanning)(void), <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> startCycle)</td></tr>
<tr class="separator:a638771cacf5e3743581dec6595203e13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a669536fc3360c854a5032bcf439f1a76"><td class="memItemLeft" align="right" valign="top"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen2_8c.html#a669536fc3360c854a5032bcf439f1a76">gen2SetProtectBit</a> (<a class="el" href="as399x__public_8h.html#a24e956eab72b3e331706283669924255">Tag</a> *tag)</td></tr>
<tr class="separator:a669536fc3360c854a5032bcf439f1a76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12985678c88d48dc84b4528be4a3352f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen2_8c.html#a12985678c88d48dc84b4528be4a3352f">gen2ReSetProtectBit</a> (<a class="el" href="as399x__public_8h.html#a24e956eab72b3e331706283669924255">Tag</a> *tag, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *password)</td></tr>
<tr class="separator:a12985678c88d48dc84b4528be4a3352f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2be1d431e4b15649c99d63c628f31bf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen2_8c.html#ad2be1d431e4b15649c99d63c628f31bf">gen2ChangeEAS</a> (<a class="el" href="as399x__public_8h.html#a24e956eab72b3e331706283669924255">Tag</a> *tag, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> value)</td></tr>
<tr class="separator:ad2be1d431e4b15649c99d63c628f31bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ea6ea9eee84368ca1da42918f1fa6c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen2_8c.html#a0ea6ea9eee84368ca1da42918f1fa6c4">gen2Calibrate</a> (<a class="el" href="as399x__public_8h.html#a24e956eab72b3e331706283669924255">Tag</a> *tag)</td></tr>
<tr class="separator:a0ea6ea9eee84368ca1da42918f1fa6c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6187adc2b1b01276a94b2b1c3314cf59"><td class="memItemLeft" align="right" valign="top"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen2_8c.html#a6187adc2b1b01276a94b2b1c3314cf59">gen2ChallengeCommand</a> (<a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> commandFlags, cryptoSuiteId, u16 msgBitLength, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *message, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *output, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *outputLength)</td></tr>
<tr class="separator:a6187adc2b1b01276a94b2b1c3314cf59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac58e25f69482315c515acce7a682c1c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen2_8c.html#ac58e25f69482315c515acce7a682c1c0">gen2Configure</a> (const struct gen2Config *config)</td></tr>
<tr class="separator:ac58e25f69482315c515acce7a682c1c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d8ed4e320888084bb00bdbd8f180596"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen2_8c.html#a2d8ed4e320888084bb00bdbd8f180596">gen2Open</a> (const struct gen2Config *config)</td></tr>
<tr class="separator:a2d8ed4e320888084bb00bdbd8f180596"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ec10b438f289670b3bcd466df074740"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen2_8c.html#a3ec10b438f289670b3bcd466df074740">gen2Close</a> (void)</td></tr>
<tr class="separator:a3ec10b438f289670b3bcd466df074740"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file includes functions providing an implementation of the ISO6c aka GEN2 RFID EPC protocol. </p>
<p>Detailed documentation of the provided functionality can be found in <a class="el" href="gen2_8h.html" title="This file provides declarations for functions for the GEN2 aka ISO6c protocol. ">gen2.h</a>.</p>
<dl class="section author"><dt>Author</dt><dd>Ulrich Herrmann </dd>
<dd>
Bernhard Breinbauer </dd>
<dd>
Wolfgang Reichart </dd></dl>

<p>Definition in file <a class="el" href="gen2_8c_source.html">gen2.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="aa5cd9035ebf5a30ad624a135c8836b3e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EPC_ACCESS&#160;&#160;&#160;0xC6</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Definition for access EPC command </p>

<p>Definition at line <a class="el" href="gen2_8c_source.html#l00067">67</a> of file <a class="el" href="gen2_8c_source.html">gen2.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6d1adc6b61633e5c2c661eb779bb461d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EPC_ACK&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Definition for acknowldege EPC command </p>

<p>Definition at line <a class="el" href="gen2_8c_source.html#l00047">47</a> of file <a class="el" href="gen2_8c_source.html">gen2.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac9bf934fe990d5292fdad309e10cd12d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EPC_BLOCKERASE&#160;&#160;&#160;0xC8</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Definition for blockerase EPC command </p>

<p>Definition at line <a class="el" href="gen2_8c_source.html#l00071">71</a> of file <a class="el" href="gen2_8c_source.html">gen2.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2619ee538af35bf04e940a22292fe085"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EPC_BLOCKWRITE&#160;&#160;&#160;0xC7</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Definition for blockwrite EPC command </p>

<p>Definition at line <a class="el" href="gen2_8c_source.html#l00069">69</a> of file <a class="el" href="gen2_8c_source.html">gen2.c</a>.</p>

</div>
</div>
<a class="anchor" id="a064e2ae9b4856bd799130bbc8cf0ce34"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EPC_KILL&#160;&#160;&#160;0xC4</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Definition for kill EPC command </p>

<p>Definition at line <a class="el" href="gen2_8c_source.html#l00063">63</a> of file <a class="el" href="gen2_8c_source.html">gen2.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8175ef174dd2fb18ef0438d3eb97f4d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EPC_LOCK&#160;&#160;&#160;0xC5</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Definition for lock EPC command </p>

<p>Definition at line <a class="el" href="gen2_8c_source.html#l00065">65</a> of file <a class="el" href="gen2_8c_source.html">gen2.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae53174d0b0a5068794a0ad9012f231cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EPC_NAK&#160;&#160;&#160;0xC0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Definition for not acknowldege EPC command </p>

<p>Definition at line <a class="el" href="gen2_8c_source.html#l00055">55</a> of file <a class="el" href="gen2_8c_source.html">gen2.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae3057ade33919e51f4e5868c9f069492"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EPC_QUERY&#160;&#160;&#160;0x08</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Definition for query EPC command </p>

<p>Definition at line <a class="el" href="gen2_8c_source.html#l00049">49</a> of file <a class="el" href="gen2_8c_source.html">gen2.c</a>.</p>

</div>
</div>
<a class="anchor" id="acb922689a9bc3cfb67861a0fc4434c45"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EPC_QUERYADJUST&#160;&#160;&#160;0x09</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Definition for query adjust EPC command </p>

<p>Definition at line <a class="el" href="gen2_8c_source.html#l00051">51</a> of file <a class="el" href="gen2_8c_source.html">gen2.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4bdd409bf5c2a44c92591110ac0772cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EPC_QUERYREP&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Definition for queryrep EPC command </p>

<p>Definition at line <a class="el" href="gen2_8c_source.html#l00045">45</a> of file <a class="el" href="gen2_8c_source.html">gen2.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6206712405a50c7e4de707be325aa07a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EPC_READ&#160;&#160;&#160;0xC2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Definition for read EPC command </p>

<p>Definition at line <a class="el" href="gen2_8c_source.html#l00059">59</a> of file <a class="el" href="gen2_8c_source.html">gen2.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac07fbfe8df8be1bb1a08b604ae3698a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EPC_REQRN&#160;&#160;&#160;0xC1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Definition for request new RN16 or handle </p>

<p>Definition at line <a class="el" href="gen2_8c_source.html#l00057">57</a> of file <a class="el" href="gen2_8c_source.html">gen2.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8604d3a715ca9366e82b909746b091ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EPC_SELECT&#160;&#160;&#160;0x0A</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Definition for select EPC command </p>

<p>Definition at line <a class="el" href="gen2_8c_source.html#l00053">53</a> of file <a class="el" href="gen2_8c_source.html">gen2.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad699eb0d001dde24b535493a28973b37"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EPC_WRITE&#160;&#160;&#160;0xC3</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Definition for write EPC command </p>

<p>Definition at line <a class="el" href="gen2_8c_source.html#l00061">61</a> of file <a class="el" href="gen2_8c_source.html">gen2.c</a>.</p>

</div>
</div>
<a class="anchor" id="a26abbc825d54d3681eda53a45fe2e82a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EPCDEBUG&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Definition for debug output: epc.c </p>

<p>Definition at line <a class="el" href="gen2_8c_source.html#l00040">40</a> of file <a class="el" href="gen2_8c_source.html">gen2.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a3adf4cc7b53a5bcec846776bd7ef7c4e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> gen2AccessTag </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="as399x__public_8h.html#a24e956eab72b3e331706283669924255">Tag</a> *&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *&#160;</td>
          <td class="paramname"><em>password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>EPC ACCESS command send to the Tag. This function is used to bring a tag with set access password from the Open state to the Secured state.</p>
<dl class="section attention"><dt>Attention</dt><dd>This command works on the one tag which is currently in the open state, i.e. on the last tag found by <a class="el" href="gen2_8c.html#acc4bef39e563061789915a8fefadb080">gen2SearchForTags()</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*tag</td><td>Pointer to the Tag structure. </td></tr>
    <tr><td class="paramname">*password</td><td>Pointer to first byte of the access password </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns an errorcode. 0x00 means no Error occoured. Any other value is the backscattered error code from the tag. </dd></dl>

<p>Definition at line <a class="el" href="gen2_8c_source.html#l00307">307</a> of file <a class="el" href="gen2_8c_source.html">gen2.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0ea6ea9eee84368ca1da42918f1fa6c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> gen2Calibrate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="as399x__public_8h.html#a24e956eab72b3e331706283669924255">Tag</a> *&#160;</td>
          <td class="paramname"><em>tag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function execute sthe NXP special command Calibrate</p>
<dl class="section attention"><dt>Attention</dt><dd>This command works on the one tag which is currently in the open state, i.e. on the last tag found by <a class="el" href="gen2_8c.html#acc4bef39e563061789915a8fefadb080">gen2SearchForTags()</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*tag</td><td>Pointer to the Tag structure. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="gen2_8c_source.html#l01591">1591</a> of file <a class="el" href="gen2_8c_source.html">gen2.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6187adc2b1b01276a94b2b1c3314cf59"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> gen2ChallengeCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td>
          <td class="paramname"><em>commandFlags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cryptoSuiteId&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16&#160;</td>
          <td class="paramname"><em>msgBitLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *&#160;</td>
          <td class="paramname"><em>outputLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function sends the Challenge Command D4h to all tags in range. The challenge is used to trigger all tags within range to pre-calculate the the crypto-authentication for later request when tags are selected.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">commandFlags</td><td>bit-coded command info (RFU, Buffer, IncRepLen, immed). </td></tr>
    <tr><td class="paramname">cryptoSuiteId</td><td>Crypto Suite ID to define the used crypto algorithm. </td></tr>
    <tr><td class="paramname">msgBitLength</td><td>bit length of the message (can be EBV-encoded for proprietary implementations). </td></tr>
    <tr><td class="paramname">*message</td><td>pointer to message bit stream. </td></tr>
    <tr><td class="paramname">*output</td><td>pointer to response buffer. </td></tr>
    <tr><td class="paramname">*outputLength</td><td>pointer to variable which stores size of valid data in response buffer in bytes. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="gen2_8c_source.html#l01620">1620</a> of file <a class="el" href="gen2_8c_source.html">gen2.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad2be1d431e4b15649c99d63c628f31bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> gen2ChangeEAS </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="as399x__public_8h.html#a24e956eab72b3e331706283669924255">Tag</a> *&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function executes the NXP special command Change EAS</p>
<dl class="section attention"><dt>Attention</dt><dd>This command works on the one tag which is currently in the open state, i.e. on the last tag found by <a class="el" href="gen2_8c.html#acc4bef39e563061789915a8fefadb080">gen2SearchForTags()</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*tag</td><td>Pointer to the Tag structure. </td></tr>
    <tr><td class="paramname">value</td><td>to be set </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="gen2_8c_source.html#l01564">1564</a> of file <a class="el" href="gen2_8c_source.html">gen2.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3ec10b438f289670b3bcd466df074740"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gen2Close </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close a session. </p>
<p>Close the session for gen2 protocol </p>

<p>Definition at line <a class="el" href="gen2_8c_source.html#l01968">1968</a> of file <a class="el" href="gen2_8c_source.html">gen2.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac58e25f69482315c515acce7a682c1c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gen2Configure </td>
          <td>(</td>
          <td class="paramtype">const struct gen2Config *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the link frequency. </p>
<p>Set the link frequency and gen2 specific parameters. After calling this function the AS3991 is in normal. </p>

<p>Definition at line <a class="el" href="gen2_8c_source.html#l01797">1797</a> of file <a class="el" href="gen2_8c_source.html">gen2.c</a>.</p>

</div>
</div>
<a class="anchor" id="a35af734c0d114c8ef2c99a4f2ace0d85"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> gen2GenericCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="as399x__public_8h.html#a24e956eab72b3e331706283669924255">Tag</a> *&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct gen2GenericCmdData *&#160;</td>
          <td class="paramname"><em>commandData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>GENERIC COMMAND send to the Tag.</p>
<dl class="section attention"><dt>Attention</dt><dd>This command works on the one tag which is currently in the open state, i.e. on the last tag found by <a class="el" href="gen2_8c.html#acc4bef39e563061789915a8fefadb080">gen2SearchForTags()</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*tag</td><td>Pointer to the Tag structure. </td></tr>
    <tr><td class="paramname">*commandData</td><td>structure which contains all relevant data for generic command. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns an error-code. 0x00 means no error occurred. 0xFF unknown error occurred. Any other value is the backscattered error code from the tag. </dd></dl>

<p>Definition at line <a class="el" href="gen2_8c_source.html#l00669">669</a> of file <a class="el" href="gen2_8c_source.html">gen2.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac69950813dc5a76f5fbedacff2a653ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> gen2KillTag </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="as399x__public_8h.html#a24e956eab72b3e331706283669924255">Tag</a> *&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *&#160;</td>
          <td class="paramname"><em>password</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td>
          <td class="paramname"><em>rfu</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>EPC KILL command send to the Tag. This function is used to permanently kill a tag. After that the tag will never ever respond again.</p>
<dl class="section attention"><dt>Attention</dt><dd>This command works on the one tag which is currently in the open state, i.e. on the last tag found by <a class="el" href="gen2_8c.html#acc4bef39e563061789915a8fefadb080">gen2SearchForTags()</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*tag</td><td>Pointer to the Tag structure. </td></tr>
    <tr><td class="paramname">*password</td><td>Pointer to first byte of the kill password </td></tr>
    <tr><td class="paramname">rfu</td><td>Some special configuration bits. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns an errorcode. 0x00 means no Error occoured. Any other value is the backscattered error code from the tag. </dd></dl>

<p>Definition at line <a class="el" href="gen2_8c_source.html#l00421">421</a> of file <a class="el" href="gen2_8c_source.html">gen2.c</a>.</p>

</div>
</div>
<a class="anchor" id="a40658b9ae0315c95c670134af22d9393"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> gen2LockTag </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="as399x__public_8h.html#a24e956eab72b3e331706283669924255">Tag</a> *&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *&#160;</td>
          <td class="paramname"><em>mask_action</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>EPC LOCK command send to the Tag. This function is used to lock some data region in the tag.</p>
<dl class="section attention"><dt>Attention</dt><dd>This command works on the one tag which is currently in the open state, i.e. on the last tag found by <a class="el" href="gen2_8c.html#acc4bef39e563061789915a8fefadb080">gen2SearchForTags()</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*tag</td><td>Pointer to the Tag structure. </td></tr>
    <tr><td class="paramname">*mask_action</td><td>Pointer to the first byte of the mask and action array. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns an errorcode. 0x00 means no Error occoured. Any other value is the backscattered error code from the tag. </dd></dl>

<p>Definition at line <a class="el" href="gen2_8c_source.html#l00383">383</a> of file <a class="el" href="gen2_8c_source.html">gen2.c</a>.</p>

</div>
</div>
<a class="anchor" id="afb7755e95e2f76ca5afc42a3329917b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> gen2NXPChangeConfig </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="as399x__public_8h.html#a24e956eab72b3e331706283669924255">Tag</a> *&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *&#160;</td>
          <td class="paramname"><em>databuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>NXP Custom command ChangeConfig sent to the tag. </p>
<dl class="section attention"><dt>Attention</dt><dd>Before issuing tag needs to be in secured state using non-zero password.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*tag</td><td>Pointer to the Tag structure. </td></tr>
    <tr><td class="paramname">*databuf</td><td>Pointer to the first byte of the config word array. The config word as in the tags reply is returned within.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns an errorcode. 0x00 means no error occoured. 0xFF unknown error occoured. Any other value is the backscattered error code from the tag. </dd></dl>

<p>Definition at line <a class="el" href="gen2_8c_source.html#l00526">526</a> of file <a class="el" href="gen2_8c_source.html">gen2.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2d8ed4e320888084bb00bdbd8f180596"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gen2Open </td>
          <td>(</td>
          <td class="paramtype">const struct gen2Config *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open a session. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config,:</td><td>configuration to use</td></tr>
  </table>
  </dd>
</dl>
<p>Open a session for gen2 protocol </p>

<p>Definition at line <a class="el" href="gen2_8c_source.html#l01963">1963</a> of file <a class="el" href="gen2_8c_source.html">gen2.c</a>.</p>

</div>
</div>
<a class="anchor" id="a58b107323267558d63ec42ff9f485a21"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gen2PrintTagInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="as399x__public_8h.html#a24e956eab72b3e331706283669924255">Tag</a> *&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td>
          <td class="paramname"><em>epclen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td>
          <td class="paramname"><em>tagNr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prints the tag information out (UART). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*tag</td><td>Pointer to the Tag structure. </td></tr>
    <tr><td class="paramname">epclen</td><td>Length of the EPC. </td></tr>
    <tr><td class="paramname">tagNr</td><td>Number of the tag. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="gen2_8c_source.html#l00851">851</a> of file <a class="el" href="gen2_8c_source.html">gen2.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9895eaaee0f285352647b0ff32c6d340"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> gen2ReadFromTag </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="as399x__public_8h.html#a24e956eab72b3e331706283669924255">Tag</a> *&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td>
          <td class="paramname"><em>memBank</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td>
          <td class="paramname"><em>wordPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td>
          <td class="paramname"><em>wordCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *&#160;</td>
          <td class="paramname"><em>destbuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>EPC READ command send to the Tag.</p>
<dl class="section attention"><dt>Attention</dt><dd>This command works on the one tag which is currently in the open state, i.e. on the last tag found by <a class="el" href="gen2_8c.html#acc4bef39e563061789915a8fefadb080">gen2SearchForTags()</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*tag</td><td>Pointer to the Tag structure. </td></tr>
    <tr><td class="paramname">memBank</td><td>Memory Bank to which the data should be written. </td></tr>
    <tr><td class="paramname">wordPtr</td><td>Word Pointer Address to which the data should be written. </td></tr>
    <tr><td class="paramname">wordCount</td><td>Number of bytes to read from the tag. </td></tr>
    <tr><td class="paramname">*destbuf</td><td>Pointer to the first byte of the data array. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns an errorcode. 0x00 means no error occoured. 0xFF unknown error occoured. Any other value is the backscattered error code from the tag. </dd></dl>

<p>Definition at line <a class="el" href="gen2_8c_source.html#l00571">571</a> of file <a class="el" href="gen2_8c_source.html">gen2.c</a>.</p>

</div>
</div>
<a class="anchor" id="a12985678c88d48dc84b4528be4a3352f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> gen2ReSetProtectBit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="as399x__public_8h.html#a24e956eab72b3e331706283669924255">Tag</a> *&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *&#160;</td>
          <td class="paramname"><em>password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function executes the NXP special command ReSet protection Bit</p>
<dl class="section attention"><dt>Attention</dt><dd>This command works on the one tag which is currently in the open state, i.e. on the last tag found by <a class="el" href="gen2_8c.html#acc4bef39e563061789915a8fefadb080">gen2SearchForTags()</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*tag</td><td>Pointer to the Tag structure. </td></tr>
    <tr><td class="paramname">*password</td><td>pointer to the 4 byte passwords to be used </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="gen2_8c_source.html#l01531">1531</a> of file <a class="el" href="gen2_8c_source.html">gen2.c</a>.</p>

</div>
</div>
<a class="anchor" id="acc4bef39e563061789915a8fefadb080"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned gen2SearchForTags </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="as399x__public_8h.html#a24e956eab72b3e331706283669924255">Tag</a> *&#160;</td>
          <td class="paramname"><em>tags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td>
          <td class="paramname"><em>maxtags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#a1367fcbd395005ade7b649b129464275">bool</a>(*)(void)&#160;</td>
          <td class="paramname"><em>cbContinueScanning</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#a1367fcbd395005ade7b649b129464275">bool</a>&#160;</td>
          <td class="paramname"><em>useMaskToSelect</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Search for tags (aka do an inventory round). Before calling any other gen2 functions this routine has to be called. It first selects using the given mask a set of tags and then does an inventory round issuing query commands. All tags are stored in then tags array for examination by the user. The last found tag will be kept in the Open/Secured state and can subsequently treated using the other gen2 functions. For accessing a specific tag, searchForTags should be called without a mask. Then a one of the read out epcs should be used as the mask for another inventory round thus isolating this single tag.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*tags</td><td>an array for the found tags to be stored to </td></tr>
    <tr><td class="paramname">maxtags</td><td>the size of the tags array </td></tr>
    <tr><td class="paramname">*mask</td><td>mask for selection of specific tags </td></tr>
    <tr><td class="paramname">length</td><td>of the mask </td></tr>
    <tr><td class="paramname">q</td><td>2^q slots will be done first, additional 2 round with increased or decreased q may be performed thus keeping it in open/secured state </td></tr>
    <tr><td class="paramname">cbContinueScanning</td><td>callback is called after each slot to inquire if we should </td></tr>
    <tr><td class="paramname">useMaskToSelect</td><td>if set to true the mask will be used for a SELECT command. If false then all tags will be selected, operation stops at first found tag which matches the mask. continue scanning (e.g. for allowing a timeout) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of tags found </dd></dl>

<p>Definition at line <a class="el" href="gen2_8c_source.html#l01253">1253</a> of file <a class="el" href="gen2_8c_source.html">gen2.c</a>.</p>

</div>
</div>
<a class="anchor" id="a638771cacf5e3743581dec6595203e13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned gen2SearchForTagsFast </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="as399x__public_8h.html#a24e956eab72b3e331706283669924255">Tag</a> *&#160;</td>
          <td class="paramname"><em>tags_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td>
          <td class="paramname"><em>maxtags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#a1367fcbd395005ade7b649b129464275">bool</a>(*)(void)&#160;</td>
          <td class="paramname"><em>cbContinueScanning</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td>
          <td class="paramname"><em>startCycle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For reference see <a class="el" href="gen2_8c.html#acc4bef39e563061789915a8fefadb080">gen2SearchForTags()</a>. The main difference is that it does not put any tags into open/secured state. Thus this function is a bit faster. </p>

<p>Definition at line <a class="el" href="gen2_8c_source.html#l01409">1409</a> of file <a class="el" href="gen2_8c_source.html">gen2.c</a>.</p>

</div>
</div>
<a class="anchor" id="a669536fc3360c854a5032bcf439f1a76"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> gen2SetProtectBit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="as399x__public_8h.html#a24e956eab72b3e331706283669924255">Tag</a> *&#160;</td>
          <td class="paramname"><em>tag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function executes the NXP special command Set protection Bit</p>
<dl class="section attention"><dt>Attention</dt><dd>This command works on the one tag which is currently in the open state, i.e. on the last tag found by <a class="el" href="gen2_8c.html#acc4bef39e563061789915a8fefadb080">gen2SearchForTags()</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*tag</td><td>Pointer to the Tag structure. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="gen2_8c_source.html#l01502">1502</a> of file <a class="el" href="gen2_8c_source.html">gen2.c</a>.</p>

</div>
</div>
<a class="anchor" id="abcd0b2ab779a3f34602494830ff8573e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> gen2WriteWordToTag </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="as399x__public_8h.html#a24e956eab72b3e331706283669924255">Tag</a> *&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td>
          <td class="paramname"><em>memBank</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td>
          <td class="paramname"><em>wordPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *&#160;</td>
          <td class="paramname"><em>databuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>EPC WRITE command send to the Tag. This function writes one word (16 bit) to the tag. It first requests a new handle. The handle is then exored with the data.</p>
<dl class="section attention"><dt>Attention</dt><dd>This command works on the one tag which is currently in the open state, i.e. on the last tag found by <a class="el" href="gen2_8c.html#acc4bef39e563061789915a8fefadb080">gen2SearchForTags()</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*tag</td><td>Pointer to the Tag structure. </td></tr>
    <tr><td class="paramname">memBank</td><td>Memory Bank to which the data should be written. </td></tr>
    <tr><td class="paramname">wordPtr</td><td>Word Pointer Address to which the data should be written. </td></tr>
    <tr><td class="paramname">*databuf</td><td>Pointer to the first byte of the data array. The data buffer has to be 2 bytes long. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns an errorcode. 0x00 means no error occoured. 0xFF unknown error occoured. Any other value is the backscattered error code from the tag. </dd></dl>

<p>Definition at line <a class="el" href="gen2_8c_source.html#l00466">466</a> of file <a class="el" href="gen2_8c_source.html">gen2.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Dec 2 2013 10:17:58 for AS399X Firmware by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
