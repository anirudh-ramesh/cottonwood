<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>AS399X Firmware: as399x.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">AS399X Firmware
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">as399x.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;c8051F340.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="as399x__config_8h_source.html">as399x_config.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="platform_8h_source.html">platform.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="as399x_8h_source.html">as399x.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="as399x__public_8h_source.html">as399x_public.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="global_8h_source.html">global.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="as399x__com_8h_source.html">as399x_com.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="uart_8h_source.html">uart.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="timer_8h_source.html">timer.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="gen2_8h_source.html">gen2.h</a>&quot;</code><br/>
<code>#include &quot;stdlib.h&quot;</code><br/>
<code>#include &quot;string.h&quot;</code><br/>
</div>
<p><a href="as399x_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ada74e7db007a68e763f20c17f2985356"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#ada74e7db007a68e763f20c17f2985356">READ</a>&#160;&#160;&#160;0x40</td></tr>
<tr class="separator:ada74e7db007a68e763f20c17f2985356"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf80826c205230fbc6a84ab9c46ff9af"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#acf80826c205230fbc6a84ab9c46ff9af">CONTINUOUS</a>&#160;&#160;&#160;0x20</td></tr>
<tr class="separator:acf80826c205230fbc6a84ab9c46ff9af"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3bfe6fab3c61cffe7329b050c4523fc5"><td class="memItemLeft" align="right" valign="top">u16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#a3bfe6fab3c61cffe7329b050c4523fc5">as399xInitialize</a> (u32 baseFreq)</td></tr>
<tr class="separator:a3bfe6fab3c61cffe7329b050c4523fc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5247c559d73460f77a87c52901ea90e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#ae5247c559d73460f77a87c52901ea90e">extInt</a> (void)</td></tr>
<tr class="separator:ae5247c559d73460f77a87c52901ea90e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8bcc8e7386bc38294b3eeb083809d67"><td class="memItemLeft" align="right" valign="top"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#ab8bcc8e7386bc38294b3eeb083809d67">as399xReadChipVersion</a> (void)</td></tr>
<tr class="separator:ab8bcc8e7386bc38294b3eeb083809d67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a929d232d3e465ec925841966be951f2b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#a929d232d3e465ec925841966be951f2b">as399xSingleCommand</a> (<a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> command)</td></tr>
<tr class="separator:a929d232d3e465ec925841966be951f2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9fa5e31e45c056e01898dfcf7ecae1b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#af9fa5e31e45c056e01898dfcf7ecae1b">as399xContinuousCommand</a> (<a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *commands, s8 len)</td></tr>
<tr class="separator:af9fa5e31e45c056e01898dfcf7ecae1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6736a398e8775e09e94c3fcb2beeac22"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#a6736a398e8775e09e94c3fcb2beeac22">as399xContinuousRead</a> (<a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> address, s8 len, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *readbuf)</td></tr>
<tr class="separator:a6736a398e8775e09e94c3fcb2beeac22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb94e0a64d518dceef67d292a8fdc391"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#abb94e0a64d518dceef67d292a8fdc391">as399xFifoRead</a> (s8 len, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *readbuf)</td></tr>
<tr class="separator:abb94e0a64d518dceef67d292a8fdc391"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a091ee0b3c153f82bdaccea3867168cfa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#a091ee0b3c153f82bdaccea3867168cfa">as399xSingleRead</a> (<a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> address)</td></tr>
<tr class="separator:a091ee0b3c153f82bdaccea3867168cfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8045806e4161d7d083dcbdf4d4b87174"><td class="memItemLeft" align="right" valign="top"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#a8045806e4161d7d083dcbdf4d4b87174">as399xSingleReadIrq</a> (<a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> address)</td></tr>
<tr class="separator:a8045806e4161d7d083dcbdf4d4b87174"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0de508f07f799ee9dc2aa1efe8553122"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#a0de508f07f799ee9dc2aa1efe8553122">as399xContinuousWrite</a> (<a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> address, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *buf, s8 len)</td></tr>
<tr class="separator:a0de508f07f799ee9dc2aa1efe8553122"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba8ac4c5bb81836447071f99ffa486dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#aba8ac4c5bb81836447071f99ffa486dc">as399xSingleWrite</a> (<a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> address, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> value)</td></tr>
<tr class="separator:aba8ac4c5bb81836447071f99ffa486dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0383b7cd9a62f20da6bdad240dd4b03"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#ad0383b7cd9a62f20da6bdad240dd4b03">as399xCommandContinuousAddress</a> (<a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *command, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> com_len, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> address, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *buf, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> buf_len)</td></tr>
<tr class="separator:ad0383b7cd9a62f20da6bdad240dd4b03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e040ab8de948ed22fd11333e93ac793"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#a4e040ab8de948ed22fd11333e93ac793">as399xSwitchToIdleMode</a> (void)</td></tr>
<tr class="separator:a4e040ab8de948ed22fd11333e93ac793"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc80940ab77e2d8a3037d8f69b8bb009"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#acc80940ab77e2d8a3037d8f69b8bb009">as399xWaitForResponseTimed</a> (u16 waitMask, u16 counter)</td></tr>
<tr class="separator:acc80940ab77e2d8a3037d8f69b8bb009"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a043123a43dad704a086d1b5272d2a022"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#a043123a43dad704a086d1b5272d2a022">as399xWaitForResponse</a> (u16 waitMaskOrig)</td></tr>
<tr class="separator:a043123a43dad704a086d1b5272d2a022"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa6098dbbd9b8c053ce9155e56475bf7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#aaa6098dbbd9b8c053ce9155e56475bf7">as399xEnterDirectMode</a> ()</td></tr>
<tr class="separator:aaa6098dbbd9b8c053ce9155e56475bf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6377e4bc9d2e2f3bde7fddebbf9ce017"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#a6377e4bc9d2e2f3bde7fddebbf9ce017">as399xExitDirectMode</a> ()</td></tr>
<tr class="separator:a6377e4bc9d2e2f3bde7fddebbf9ce017"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad128a3b59678415a598f50639f249697"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#ad128a3b59678415a598f50639f249697">as399xSelectLinkFrequency</a> (<a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> a)</td></tr>
<tr class="separator:ad128a3b59678415a598f50639f249697"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a071434f44354a6754e90b24044065074"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#a071434f44354a6754e90b24044065074">as399xSetBaseFrequency</a> (<a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> regs, u32 frequency)</td></tr>
<tr class="separator:a071434f44354a6754e90b24044065074"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6a6740b43d27cf92c30f0f9c71a371e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#ad6a6740b43d27cf92c30f0f9c71a371e">as399xMemoryDump</a> (void)</td></tr>
<tr class="separator:ad6a6740b43d27cf92c30f0f9c71a371e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae011228afe4a87d52d005b8aa0eaaa45"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#ae011228afe4a87d52d005b8aa0eaaa45">as399xReset</a> (void)</td></tr>
<tr class="separator:ae011228afe4a87d52d005b8aa0eaaa45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06bfd015bdbc7e31834542d90d15af39"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#a06bfd015bdbc7e31834542d90d15af39">as399xAntennaPower</a> (<a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> on)</td></tr>
<tr class="separator:a06bfd015bdbc7e31834542d90d15af39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa370b8bb8a9100c2c984f39772f2e805"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#aa370b8bb8a9100c2c984f39772f2e805">as399xSaveSensitivity</a> ()</td></tr>
<tr class="separator:aa370b8bb8a9100c2c984f39772f2e805"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c6aa0a3eef7e6d2b43bc104071b55da"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#a1c6aa0a3eef7e6d2b43bc104071b55da">as399xRestoreSensitivity</a> ()</td></tr>
<tr class="separator:a1c6aa0a3eef7e6d2b43bc104071b55da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80ebe27f49bceee1672a3ed0b2e5b5d5"><td class="memItemLeft" align="right" valign="top">s8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#a80ebe27f49bceee1672a3ed0b2e5b5d5">as399xGetSensitivity</a> ()</td></tr>
<tr class="separator:a80ebe27f49bceee1672a3ed0b2e5b5d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4551e672f1f6c15004b905998f6395ac"><td class="memItemLeft" align="right" valign="top">s8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#a4551e672f1f6c15004b905998f6395ac">as399xSetSensitivity</a> (s8 minimumSignal)</td></tr>
<tr class="separator:a4551e672f1f6c15004b905998f6395ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ef060053cb26729e3ad88877a9157f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#a6ef060053cb26729e3ad88877a9157f0">as399xGetRSSI</a> (u16 num_of_ms_to_scan, <a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *rawIQ, s8 *dBm)</td></tr>
<tr class="separator:a6ef060053cb26729e3ad88877a9157f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4f8d2cc9b2b39192e74b0d6669e622d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#ab4f8d2cc9b2b39192e74b0d6669e622d">as399xWriteDAC</a> (<a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> natVal)</td></tr>
<tr class="separator:ab4f8d2cc9b2b39192e74b0d6669e622d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9e3466abca7914ac141f6205d34b631"><td class="memItemLeft" align="right" valign="top"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#af9e3466abca7914ac141f6205d34b631">as399xReadDAC</a> (void)</td></tr>
<tr class="separator:af9e3466abca7914ac141f6205d34b631"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a068783ac66684d83d08fbcbace1b4276"><td class="memItemLeft" align="right" valign="top">u16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#a068783ac66684d83d08fbcbace1b4276">as399xGetReflectedPower</a> (void)</td></tr>
<tr class="separator:a068783ac66684d83d08fbcbace1b4276"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6dd4bda420c70ccbb64b355bf6bb9fb"><td class="memItemLeft" align="right" valign="top">u16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#af6dd4bda420c70ccbb64b355bf6bb9fb">as399xGetReflectedPowerNoiseLevel</a> (void)</td></tr>
<tr class="separator:af6dd4bda420c70ccbb64b355bf6bb9fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac42375eaacd77993195163b093aef41"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aac42375eaacd77993195163b093aef41"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#aac42375eaacd77993195163b093aef41">as399xEnterStandbyMode</a> ()</td></tr>
<tr class="separator:aac42375eaacd77993195163b093aef41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab611b632781bfee9856510dacdf8f9cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#ab611b632781bfee9856510dacdf8f9cf">as399xExitStandbyMode</a> ()</td></tr>
<tr class="separator:ab611b632781bfee9856510dacdf8f9cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbd6a2c62c8a946f628b2ad83d231975"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abbd6a2c62c8a946f628b2ad83d231975"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#abbd6a2c62c8a946f628b2ad83d231975">as399xEnterPowerDownMode</a> ()</td></tr>
<tr class="separator:abbd6a2c62c8a946f628b2ad83d231975"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a126728cbeb591b0aa075ba1317780acd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a126728cbeb591b0aa075ba1317780acd"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#a126728cbeb591b0aa075ba1317780acd">as399xExitPowerDownMode</a> ()</td></tr>
<tr class="separator:a126728cbeb591b0aa075ba1317780acd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a4bfb055853ddb7cd8d7eb1f58eda54ad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> <a class="el" href="as399x__config_8h.html#aad9ae913bdfab20dd94ad04ee2d5b045">DATA</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#a4bfb055853ddb7cd8d7eb1f58eda54ad">as399xIrqStatus</a> = 0</td></tr>
<tr class="separator:a4bfb055853ddb7cd8d7eb1f58eda54ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3691f9a46687585394a20ac22089967"><td class="memItemLeft" align="right" valign="top"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> <a class="el" href="as399x__config_8h.html#aad9ae913bdfab20dd94ad04ee2d5b045">DATA</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#ae3691f9a46687585394a20ac22089967">as399xFifoStatus</a> = 0</td></tr>
<tr class="separator:ae3691f9a46687585394a20ac22089967"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aaf1a00acea6d0af6a989dc1501553f"><td class="memItemLeft" align="right" valign="top">volatile u16 <a class="el" href="as399x__config_8h.html#aad9ae913bdfab20dd94ad04ee2d5b045">DATA</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="as399x_8c.html#a6aaf1a00acea6d0af6a989dc1501553f">as399xResponse</a> = 0</td></tr>
<tr class="separator:a6aaf1a00acea6d0af6a989dc1501553f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Functions provided by the AS399x series chips. </p>
<dl class="section author"><dt>Author</dt><dd>U. Herrmann (based on work by E.Grubmueller) </dd>
<dd>
T. Luecker (Substitute) </dd>
<dd>
B. Breinbauer</dd></dl>
<p>Functions provided by the AS399x series chips. All higher level and protocol work is contained in <a class="el" href="gen2_8c.html" title="This file includes functions providing an implementation of the ISO6c aka GEN2 RFID EPC protocol...">gen2.c</a> and <a class="el" href="iso6b_8c.html" title="Implementation of ISO18000-6b protocol. ">iso6b.c</a> </p>

<p>Definition in file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="acf80826c205230fbc6a84ab9c46ff9af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONTINUOUS&#160;&#160;&#160;0x20</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Definition protocol continous bit </p>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l00052">52</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<a class="anchor" id="ada74e7db007a68e763f20c17f2985356"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define READ&#160;&#160;&#160;0x40</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Definition protocol read bit. </p>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l00050">50</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a06bfd015bdbc7e31834542d90d15af39"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as399xAntennaPower </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td>
          <td class="paramname"><em>on</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function turns the antenna power on or off. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">on</td><td>boolean to value to turn it on (1) or off (0). </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l01042">1042</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad0383b7cd9a62f20da6bdad240dd4b03"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as399xCommandContinuousAddress </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td>
          <td class="paramname"><em>com_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td>
          <td class="paramname"><em>buf_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sends first some commands to the AS3990. The number of commands is specified with the parameter com_len. Then it sets the address where the first byte has to be written and after that every byte from the buffer is written to the AS3990. <br/>
</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*command</td><td>Pointer to the first byte of the command buffer </td></tr>
    <tr><td class="paramname">com_len</td><td>Length of the command buffer. </td></tr>
    <tr><td class="paramname">address</td><td>addressbyte </td></tr>
    <tr><td class="paramname">*buf</td><td>Pointer to the first byte of the data array. </td></tr>
    <tr><td class="paramname">buf_len</td><td>Length of the buffer. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l00740">740</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<a class="anchor" id="af9fa5e31e45c056e01898dfcf7ecae1b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as399xContinuousCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *&#160;</td>
          <td class="paramname"><em>commands</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">s8&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sends a number of commands to the AS399x </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">commands</td><td>commands which should be sent to AS399x </td></tr>
    <tr><td class="paramname">len</td><td>number of commands to send </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l00639">639</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6736a398e8775e09e94c3fcb2beeac22"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as399xContinuousRead </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">s8&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *&#160;</td>
          <td class="paramname"><em>readbuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads data from a address and some following addresses from the AS3990. The len parameter defines the number of address read. <br/>
</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>addressbyte </td></tr>
    <tr><td class="paramname">len</td><td>Length of the buffer. </td></tr>
    <tr><td class="paramname">*readbuf</td><td>Pointer to the first byte of the array where the data has to be stored in. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l00657">657</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0de508f07f799ee9dc2aa1efe8553122"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as399xContinuousWrite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">s8&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Continuous Write -&gt; writes several bytes to subsequent addresses of the AS399X. <br/>
</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>addressbyte </td></tr>
    <tr><td class="paramname">*buf</td><td>Pointer to the first byte of the array. </td></tr>
    <tr><td class="paramname">len</td><td>Length of the buffer. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l00720">720</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<a class="anchor" id="aaa6098dbbd9b8c053ce9155e56475bf7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as399xEnterDirectMode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enter the direct mode. </p>
<p>The direct mode is needed since the AS3991 doesn't support ISO18000-6B directly. Direct mode means that the MCU directly issues the commands. The AS3991 modulates the serial stream from the MCU and sends it out. </p>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l00799">799</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6377e4bc9d2e2f3bde7fddebbf9ce017"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as399xExitDirectMode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Leave the direct mode. </p>
<p>After calling this function the AS3991 is in normal mode again. </p>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l00833">833</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab611b632781bfee9856510dacdf8f9cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as399xExitStandbyMode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Leave the standby mode. </p>
<p>After calling this function the AS3991 is in normal mode again. </p>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l01778">1778</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<a class="anchor" id="abb94e0a64d518dceef67d292a8fdc391"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as399xFifoRead </td>
          <td>(</td>
          <td class="paramtype">s8&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *&#160;</td>
          <td class="paramname"><em>readbuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads data from the fifo and some following addresses from the AS3990. The len parameter defines the number of address read. Does this in a secure way so that it works also on AS3991 devices in serial mode </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">len</td><td>Length of the buffer. </td></tr>
    <tr><td class="paramname">*readbuf</td><td>Pointer to the first byte of the array where the data has to be stored in. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l00666">666</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<a class="anchor" id="a068783ac66684d83d08fbcbace1b4276"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u16 as399xGetReflectedPower </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function gets the values for the reflected power. For measuring the antenna will be switched on, a measurement performed and the antenna if necessary turned back off. The two measured 8-bit values are returned as one 16-bit value, the lower byte containing receiver-A (I) value, the higher byte containing receiver-B (Q) value. The two values are signed values and will be converted from sign magnitude representation to natural. Note: To get a more accurate result the I and Q values of <a class="el" href="as399x_8c.html#af6dd4bda420c70ccbb64b355bf6bb9fb">as399xGetReflectedPowerNoiseLevel()</a> should be subtracted from the result of <a class="el" href="as399x_8c.html#a068783ac66684d83d08fbcbace1b4276">as399xGetReflectedPower()</a> </p>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l01440">1440</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<a class="anchor" id="af6dd4bda420c70ccbb64b355bf6bb9fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u16 as399xGetReflectedPowerNoiseLevel </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function measures and returns the noise level of the reflected power measurement of the active antenna. The returned value is of type u16 and contains the 8 bit I and Q values of the reflected power. The I value is located in the lower 8 bits, the Q value in the upper 8 bits. <br/>
See <a class="el" href="as399x_8c.html#a068783ac66684d83d08fbcbace1b4276">as399xGetReflectedPower()</a> fore more info. </p>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l01481">1481</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6ef060053cb26729e3ad88877a9157f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as399xGetRSSI </td>
          <td>(</td>
          <td class="paramtype">u16&#160;</td>
          <td class="paramname"><em>num_of_ms_to_scan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *&#160;</td>
          <td class="paramname"><em>rawIQ</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">s8 *&#160;</td>
          <td class="paramname"><em>dBm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function gets the RSSI (ReceivedSignalStrengthIndicator) of the environment in dBm. For measuring the antenna will be switched off, int the time num_of_ms_to_scan measurements performed and the antenna if necessary turned back on.</p>
<p>The returned value is the highest RSSI value expressed in dBm. -128 stands for no signal.</p>
<p>Use this function to implement LBT (Listen Before Talk) at least for European based readers. Use like this </p>
<div class="fragment"><div class="line">*  <a class="code" href="as399x_8c.html#a071434f44354a6754e90b24044065074">as399xSetBaseFrequency</a>( f + 100);</div>
<div class="line">*  <a class="code" href="as399x_8c.html#aa370b8bb8a9100c2c984f39772f2e805">as399xSaveSensitivity</a>();</div>
<div class="line">*  <a class="code" href="as399x_8c.html#a4551e672f1f6c15004b905998f6395ac">as399xSetSensitivity</a>(-50);</div>
<div class="line">*  <a class="code" href="as399x_8c.html#a6ef060053cb26729e3ad88877a9157f0">as399xGetRSSI</a>(10,&amp;iq,&amp;dBm)</div>
<div class="line">*  <a class="code" href="as399x_8c.html#a1c6aa0a3eef7e6d2b43bc104071b55da">as399xRestoreSensitivity</a>();</div>
<div class="line">*  <span class="keywordflow">if</span> (dBm &lt; -40) { </div>
<div class="line">*     <span class="comment">//use frequency f for operation</span></div>
<div class="line">*  }<span class="keywordflow">else</span>{</div>
<div class="line">*     <span class="comment">// try to find another freqency</span></div>
<div class="line">*  }</div>
<div class="line">*  </div>
</div><!-- fragment --> 
<p>Definition at line <a class="el" href="as399x_8c_source.html#l01312">1312</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<a class="anchor" id="a80ebe27f49bceee1672a3ed0b2e5b5d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">s8 as399xGetSensitivity </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function gets the current rx sensitivity level. </p>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l01153">1153</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3bfe6fab3c61cffe7329b050c4523fc5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u16 as399xInitialize </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>baseFreq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function initialises the AS399x. This function does not take or return a parameter</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">baseFreq</td><td>the base frequency to set at initialization time, may be changed later on. If AS399X_DO_SELFTEST is set extensive selftests are performed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if everything went o.k. </dd>
<dd>
1 if a problem with the pins connecting the AS399X was detected (only when AS399X_DO_SELFTEST==1) </dd>
<dd>
2 if crystal is not stable (only when AS399X_DO_SELFTEST==1) </dd>
<dd>
3 if PLL did not lock (only when AS399X_DO_SELFTEST==1) </dd>
<dd>
0xd if the reflected power was too low (only when AS399X_DO_SELFTEST==1) </dd>
<dd>
0xe if the reflected power was too high (only when AS399X_DO_SELFTEST==1) </dd>
<dd>
0xf if the wrong chip (AS3990/1 vs AS3992) was detected. </dd></dl>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l00188">188</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad6a6740b43d27cf92c30f0f9c71a371e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as399xMemoryDump </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function dumps the AS399X registers </p>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l01010">1010</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab8bcc8e7386bc38294b3eeb083809d67"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> as399xReadChipVersion </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function reads the version register of the AS399x and returns the value. <br/>
</p>
<dl class="section return"><dt>Returns</dt><dd>Returns the value of the AS399x version register. </dd></dl>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l00624">624</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<a class="anchor" id="af9e3466abca7914ac141f6205d34b631"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> as399xReadDAC </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads DAC value and returns it in natural representation. See <a class="el" href="as399x_8c.html#ab4f8d2cc9b2b39192e74b0d6669e622d">as399xWriteDAC()</a> for details. </p>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l01419">1419</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae011228afe4a87d52d005b8aa0eaaa45"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as399xReset </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function reads in the current register settings (configuration only), performs a reset by driving the enable bit first low, then high and then writes back the register values. </p>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l01034">1034</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1c6aa0a3eef7e6d2b43bc104071b55da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as399xRestoreSensitivity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function restores the sensitivity previousley saved using <a class="el" href="as399x_8c.html#aa370b8bb8a9100c2c984f39772f2e805">as399xSaveSensitivity()</a>. </p>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l01147">1147</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa370b8bb8a9100c2c984f39772f2e805"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as399xSaveSensitivity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function stores the current sensitivity registers. After that as399xSetSensitivity can be called to change sensitivty for subsequent <a class="el" href="as399x_8c.html#a6ef060053cb26729e3ad88877a9157f0">as399xGetRSSI()</a> calls. <a class="el" href="as399x_8c.html#a1c6aa0a3eef7e6d2b43bc104071b55da">as399xRestoreSensitivity()</a> restores it again. </p>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l01141">1141</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad128a3b59678415a598f50639f249697"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as399xSelectLinkFrequency </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the link frequency. </p>
<p>After calling this function the AS3991 is in normal mode again. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>0x0F: 640kHz 0x0C: 320kHz 0x09: 256kHz 0x08: 213.3kHz (not available on AS3992) 0x06: 160kHz 0x03: 80kHz (not available on AS3992) 0x00: 40kHz </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l00856">856</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<a class="anchor" id="a071434f44354a6754e90b24044065074"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as399xSetBaseFrequency </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td>
          <td class="paramname"><em>regs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>frequency</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function sets the frequency in the approbiate register </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">regs</td><td>Which register is being used either AS399X_REG_PLLMAIN or AS399X_REG_PLLAUX </td></tr>
    <tr><td class="paramname">frequency</td><td>frequency in kHz </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l00927">927</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4551e672f1f6c15004b905998f6395ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">s8 as399xSetSensitivity </td>
          <td>(</td>
          <td class="paramtype">s8&#160;</td>
          <td class="paramname"><em>minimumSignal</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function tries to set the sensitivity to a level to allow detection of signals using <a class="el" href="as399x_8c.html#a6ef060053cb26729e3ad88877a9157f0">as399xGetRSSI()</a> with a level higher than miniumSignal(dBm). </p>
<dl class="section return"><dt>Returns</dt><dd>the level offset. Sensitivity was set to minimumSignal - (returned_val). negative values mean the sensitivity could not be reached. </dd></dl>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l01221">1221</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<a class="anchor" id="a929d232d3e465ec925841966be951f2b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as399xSingleCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td>
          <td class="paramname"><em>command</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sends only one command to the AS399x. <br/>
</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">command</td><td>The command which is send to the AS399x. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l00630">630</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<a class="anchor" id="a091ee0b3c153f82bdaccea3867168cfa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> as399xSingleRead </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Single Read -&gt; reads one byte from one address of the AS3990. <br/>
This function is only called from application level (not interrupt level). From interrupt level (<a class="el" href="as399x_8c.html#ae5247c559d73460f77a87c52901ea90e">extInt()</a>) as399xSingleReadIrq is used. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The addressbyte </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The databyte read from the AS399x </dd></dl>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l00681">681</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8045806e4161d7d083dcbdf4d4b87174"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> as399xSingleReadIrq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is called only from AS399x ISR (extInt). From application level as399xSingleRead is used.<br/>
The separation of application level and interrupt level removes the requirement of as399xSingleRead being reentrant. This is necessary because the reentrant function definition introduces quite some runtime overhead. Especially on the interrupt level this runtime overhead is a problem because we have to meet the T2 timing constrain, defined by the Gen2 protocol when sending back ACK or RegRN commands. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>address to read from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>register value read from address. </dd></dl>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l00694">694</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<a class="anchor" id="aba8ac4c5bb81836447071f99ffa486dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as399xSingleWrite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Single Write -&gt; writes one byte to one address of the AS3990. <br/>
</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The addressbyte </td></tr>
    <tr><td class="paramname">value</td><td>The databyte </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l00729">729</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4e040ab8de948ed22fd11333e93ac793"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as399xSwitchToIdleMode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function brings the AS399x to Idlemode. <br/>
It does not take or return a parameter. </p>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l00752">752</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<a class="anchor" id="a043123a43dad704a086d1b5272d2a022"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as399xWaitForResponse </td>
          <td>(</td>
          <td class="paramtype">u16&#160;</td>
          <td class="paramname"><em>waitMask</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function waits for the specified response(IRQ). </p>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l00778">778</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<a class="anchor" id="acc80940ab77e2d8a3037d8f69b8bb009"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as399xWaitForResponseTimed </td>
          <td>(</td>
          <td class="paramtype">u16&#160;</td>
          <td class="paramname"><em>waitMask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16&#160;</td>
          <td class="paramname"><em>ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function waits for the specified response(IRQ). </p>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l00757">757</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab4f8d2cc9b2b39192e74b0d6669e622d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void as399xWriteDAC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td>
          <td class="paramname"><em>natVal</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets DAC output voltage according to parameter natVal. The DAC values of AS399x are in magnitude representation. The FW uses DAC values in natural representation internally, as it makes computation easier. The FW handles the DAC values in the code as it is a 8 bit DAC from 0V to 3.2V, LSB = 12.5mV. <br/>
The conversion from natural to magnitude representation is handled by <a class="el" href="as399x_8c.html#ab4f8d2cc9b2b39192e74b0d6669e622d">as399xWriteDAC()</a> and <a class="el" href="as399x_8c.html#af9e3466abca7914ac141f6205d34b631">as399xReadDAC()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">natVal</td><td>Sets the DAC output voltage according to the value. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l01414">1414</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae5247c559d73460f77a87c52901ea90e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void extInt </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>External Interrupt Function The AS3990 uses the external interrupt to signal the uC that something happened. The interrupt function reads the AS3990 IRQ status. If the signals fifo bit is set it reads the AS3990 AS399X_REG_FIFO status. The interrupt function sets the flags if an event occours. </p>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l00530">530</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ae3691f9a46687585394a20ac22089967"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> <a class="el" href="as399x__config_8h.html#aad9ae913bdfab20dd94ad04ee2d5b045">DATA</a> as399xFifoStatus = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Variable is used to store the AS399X_REG_FIFO status read from the AS399x </p>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l00075">75</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4bfb055853ddb7cd8d7eb1f58eda54ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="as399x__config_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> <a class="el" href="as399x__config_8h.html#aad9ae913bdfab20dd94ad04ee2d5b045">DATA</a> as399xIrqStatus = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Variable is used to store the IRQ status read from the AS399x </p>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l00072">72</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6aaf1a00acea6d0af6a989dc1501553f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile u16 <a class="el" href="as399x__config_8h.html#aad9ae913bdfab20dd94ad04ee2d5b045">DATA</a> as399xResponse = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This variable is used as flag to signal an data reception. It is a bit mask of the RESP_TXIRQ, RESP_RXIRQ, RESP_* values </p>

<p>Definition at line <a class="el" href="as399x_8c_source.html#l00080">80</a> of file <a class="el" href="as399x_8c_source.html">as399x.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Dec 2 2013 10:17:57 for AS399X Firmware by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
